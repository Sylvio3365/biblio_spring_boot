<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Liste des prÃªts non rendus</title>
</head>

<body>

    <h2>ğŸ“š Liste des prÃªts en cours (non rendus)</h2>

    <table border="1" cellpadding="10" cellspacing="0">
        <thead>
            <tr>
                <th>NÂ°</th>
                <th>AdhÃ©rent</th>
                <th>Livre</th>
                <th>Exemplaire</th>
                <th>Date de dÃ©but</th>
                <th>Date de fin prÃ©vue</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="pret, iterStat : ${prets}">
                <td th:text="${iterStat.index + 1}">1</td>
                <td th:text="${pret.adherent.nom + ' ' + pret.adherent.prenom}">Nom PrÃ©nom</td>
                <td th:text="${pret.exemplaire.livre.titre}">Titre Livre</td>
                <td th:text="${pret.exemplaire.numero}">NumÃ©ro Exemplaire</td>
                <td th:text="${pret.debut.toLocalDate()}">2025-07-13</td>
                <td th:text="${pret.fin.toLocalDate()}">2025-07-20</td>
                <td>
                    <form th:action="@{/rendre}" method="post">
                        <input type="hidden" name="idPret" th:value="${pret.idpret}" />
                        <button type="submit">Rendre</button>
                    </form>
                </td>
            </tr>
            <tr th:if="${prets.size() == 0}">
                <td colspan="7">Aucun prÃªt en cours.</td>
            </tr>
        </tbody>
    </table>

    <!-- âœ… Message de retour (succÃ¨s ou erreur) -->
    <div style="margin-top:20px;">
        <p th:if="${success}" th:text="${success}" style="color: green;"></p>
        <p th:if="${error}" th:text="${error}" style="color: red;"></p>
    </div>
    <a th:href="@{/goAccueil}">Retour</a>
</body>

</html>